<h1>USGS Earth Explorer API</h1><p>This API allows you to search for satellite imagery within the USGS Earth Explorer catalog and download the matching scenes. The API also calculates the NDVI for each scene.</p><h2>Usage</h2><p>To use the API, you'll need a valid API key from the USGS Earth Explorer. You can get one by registering at the <a href="https://ers.cr.usgs.gov/register/" target="_new">EarthExplorer website</a></p><p>The API has the following endpoint:
<code>https://github.com/dhlarrotar/usgs_ee_api/blob/main/eesearch.py</code></p><p>You can search for scenes by sending a GET request to this endpoint with the following parameters:</p><ul><li><code>location</code>: the location of the scene in the format <code>latitude,longitude</code></li><li><code>date_range</code>: the date range of the scene in the format <code>start_date,end_date</code></li><li><code>cloud_cover</code>: the maximum cloud cover of the scene as a percentage</li><li><code>api_key</code>: your valid USGS Earth Explorer API key</li></ul><p>The API will return a JSON object with the following properties:</p><ul><li><code>number_of_scenes</code>: the number of scenes that match the search criteria</li><li><code>scenes</code>: an array of scene objects, each with the following properties:<ul><li><code>id</code>: the id of the scene</li><li><code>location</code>: the location of the scene</li><li><code>date</code>: the date of the scene</li><li><code>cloud_cover</code>: the cloud cover of the scene as a percentage</li><li><code>file_name</code>: the file name of the scene</li><li><code>ndvi</code>: the NDVI value of the scene</li></ul></li></ul><p>All the scenes that match the search criteria can be explored, downloaded in the folder specified by the user, and deleted from it.</p><h2>Dependencies</h2><p>This API uses the following Python packages:</p><ul><li><code>flask</code></li><li><code>requests</code></li><li><code>os</code></li></ul><p>Please make sure these are installed in your environment before running the script.</p>
<div class="relative flex w-[calc(100%-50px)] md:flex-col lg:w-[calc(100%-115px)]"><div class="flex flex-grow flex-col gap-3"><div class="min-h-[20px] flex flex-col items-start gap-4 whitespace-pre-wrap"><h2>Testing the API locally</h2><p>To test the API locally, you'll need to have Python and Flask installed on your system.
You can install Flask by running the following command:</p><pre><div class="bg-black mb-4 rounded-md"><div class="flex items-center relative text-gray-200 bg-gray-800 px-4 py-2 text-xs font-sans"><button class="flex ml-auto gap-2"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" class="h-4 w-4" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path><rect x="8" y="2" width="8" height="4" rx="1" ry="1"></rect></svg>Copy code</button></div><div class="p-4 overflow-y-auto"><code class="!whitespace-pre-wrap hljs">pip install flask
</code></div></div></pre><p>After installing Flask, you can run the API by executing the main script file, for example:</p><pre><div class="bg-black mb-4 rounded-md"><div class="flex items-center relative text-gray-200 bg-gray-800 px-4 py-2 text-xs font-sans"><button class="flex ml-auto gap-2"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" class="h-4 w-4" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path><rect x="8" y="2" width="8" height="4" rx="1" ry="1"></rect></svg>Copy code</button></div><div class="p-4 overflow-y-auto"><code class="!whitespace-pre-wrap hljs">flask run app.py
</code></div></div></pre><p>This will start the development server and the API will be available at <code>http://localhost:5000/</code>. You can test the different routes and endpoints using a tool such as <a href="https://www.postman.com/" target="_new">Postman</a> or by sending requests from the browser's developer console.</p><p>For example, to test the search endpoint, you can send a GET request to <code>http://localhost:5000/search?location=35.68,139.75&amp;date_range=2022-01-01,2022-01-31&amp;cloud_cover=10&amp;api_key=your-api-key&amp;download=True</code></p><p>You can also test the delete endpoint by sending a DELETE request to <code>http://localhost:5000/delete?id=LE72300562002179EDC00&amp;api_key=your-api-key</code></p><p>Please make sure you are using a valid USGS Earth Explorer API key and also use valid parameters for the date range, location and cloud cover, otherwise you will not get any results.</p></div></div></div>
